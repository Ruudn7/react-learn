<!DOCTYPE html>
<html lang="pl">

    <head>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.13/semantic.min.css">        <meta charset="UTF-8">
        <title>Lista kontaktów</title>
        <script src="https://unpkg.com/react/umd/react.development.js"></script>
        <script src="https://unpkg.com/react-dom/umd/react-dom.development.js"></script>
        <script src="https://unpkg.com/babel-standalone/babel.js"></script>
    </head>

    <body> 
    <div id="app"></div>
        <script type="text/babel">

            const contactListArr = [
                {
                    login: "typeofweb1",
                    name: "Lena",
                    department: "JavaScript Developer"
                }, {
                    login: "typeofweb2",
                    name: "Brian",
                    department: "Human Resources"
                }, {
                    login: "typeofweb3",
                    name: "Rick",
                    department: "QA"
                }
            ]

            class AppHeader extends React.Component {
                render() {
                    return (
                        <div>
                            <header className="ui fixed menu">
                                <nav className="ui container">
                                    <a href="#" className="header item">
                                        <img className="logo" src="https://typeofweb.com/wp-content/uploads/2017/08/cropped-typeofweb_logo-04-white-smaller-1-e1504359870362.png" />
                                        Lista kontaktów
                                    </a>
                                    <div className="header item">
                                        <button className="ui button">Dodaj</button>
                                    </div>
                                </nav>
                            </header>
                        </div>
                    )
                }
            }

            class ContactItem extends React.Component {
                render() {
                    const { login, name, department } = this.props
                    const imgUrl = `https://api.adorable.io/avatars/55/${login}.png`;
                    return (
                        <li className="item">
                            <img src={imgUrl} className="ui mini rounded image" />
                            <div className="content">
                                <h4 className="header">{name}</h4>
                                <div className="description">{department}</div>
                            </div>
                        </li>
                    )
                }
            } 
            

            function ContactsList() {
                return (
                    <ul className="ui relaxed divided list selection">
                    <RetrunContactItem />
                    </ul>
                );
            }

            class ReturnActionButtons extends React.Component {

                constructor() {
                    super()
                    this.buttonMessages = [
                        'jestem pierwszym buttonem',
                        'a ja drugim',
                        'kończę stawkę',
                    ]
                }

                render() {
                    return (
                        this.GenerateActionList()
                    )
                }

                ActionButton = (message, index) => {
                    return (
                        <button key={index} onClick={() => alert(message)}>Kliknij!</button>
                    );
                }

                GenerateActionList = () => {
                    const buttonArr: ActionButton[] = [];
                    for (let i = 0; i < this.buttonMessages.length; i++) {
                        buttonArr.push(
                            this.ActionButton(this.buttonMessages[i], i)
                        )
                    }

                    return buttonArr;
                }

            }

            function RetrunContactItem() {
                    let contactItmesArr = [];
                    for (let i = 0; i < contactListArr.length; i++) {
                        contactListArr[i].key = i; 
                        contactItmesArr.push(
                            <ContactItem
                                login={contactListArr[i].login}
                                name={contactListArr[i].name}
                                department={contactListArr[i].department}
                                key={i}
                            />
                        )     
                    }
                    return (contactItmesArr)
                }
            
        
            function App() {
                return (
                    <div>
                        <AppHeader />
                        <main className="ui main text container">
                            <ContactsList />
                        </main>
                        <ReturnActionButtons />
                    </div>
                );
            }

            ReactDOM.render(
                <App />,
                document.getElementById('app')
            );
        </script>
    </body>

</html>
